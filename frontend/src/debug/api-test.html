<!DOCTYPE html>
<html>
<head>
    <title>API Debug Test</title>
</head>
<body>
    <h1>API Debug Test</h1>
    <div id="output"></div>
    <script>
        const output = document.getElementById('output');
        
        function log(message) {
            console.log(message);
            output.innerHTML += '<div>' + JSON.stringify(message, null, 2) + '</div>';
        }
        
        // Test different API calls
        async function testAPI() {
            log('Testing API connectivity...');
            
            // Test 1: Direct backend call
            try {
                log('Test 1: Direct backend call...');
                const response1 = await fetch('http://localhost:3003/api/products');
                const data1 = await response1.json();
                log('Direct backend success: ' + JSON.stringify(data1, null, 2));
            } catch (error) {
                log('Direct backend failed: ' + error.message);
            }
            
            // Test 2: Proxy call (should work from React dev server)
            try {
                log('Test 2: Proxy call...');
                const response2 = await fetch('/api/products');
                const data2 = await response2.json();
                log('Proxy call success: ' + JSON.stringify(data2, null, 2));
            } catch (error) {
                log('Proxy call failed: ' + error.message);
            }
            
            // Test 3: Axios call
            try {
                log('Test 3: Axios call...');
                // This would only work if we include axios, but we can simulate
                const response3 = await fetch('/api/products');
                const data3 = await response3.json();
                log('Axios-style call success: ' + JSON.stringify(data3, null, 2));
            } catch (error) {
                log('Axios-style call failed: ' + error.message);
            }
        }
        
        testAPI();
    </script>
</body>
</html>